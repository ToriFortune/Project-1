define(["require","lodash","store"],function(t){"use strict";var s=t("lodash"),r=t("store"),i=function(t){this.store=r,this.artists=[],this.maxArtists=t||3};return i.prototype.recordVisit=function(t){var r=this.toArray();r=s(r).filter(function(s){return s!=t}).unshift(t).take(this.maxArtists).value(),this.save(r)},i.prototype.save=function(t){if(this.store.enabled)return void this.store.set("lazyrecsbar:artists:1",t);this.artists=t},i.prototype.toArray=function(){return this.store.enabled?this.store.get("lazyrecsbar:artists:1",[]):this.artists},i});